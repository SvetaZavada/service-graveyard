/* ============== БАЗА ============== */
* { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: 'DotGothic16', sans-serif;
  background: #008080 url('background.png') center center / cover no-repeat fixed;
  /* кастомная стрелка (SVG dataURI) */
  cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><polygon points='0,0 0,24 6,18 10,28 14,26 10,18 18,18' fill='%23ffffff' stroke='%23000000' stroke-width='1'/></svg>") 0 0, auto;
}

/* глючная «рука» на кнопках */
button {
  cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><path d='M8 22 v-8 a2 2 0 0 1 4 0 v3 h1 v-5 a2 2 0 0 1 4 0 v5 h1 v-4 a2 2 0 0 1 4 0 v9 c0 3 -2 5 -5 5 h-5 c-2 0 -4 -2 -4 -4z' fill='%23ffffff' stroke='%23000000' stroke-width='1'/></svg>") 0 0, pointer;
}

#ui {
  position: relative;
  width: 100%;
  height: 100%;
}

/* ============== ОКНА (Win95 вайб) ============== */

.win {
  position: fixed;
  width: clamp(240px, 80vw, 320px);
  background: #e0e0e0;
  border: 2px solid #000;
  box-shadow: 3px 3px 0 #000;
  z-index: 20;
  animation: shake .22s infinite alternate;
}

.win__title {
  background: #00007f;
  color: #fff;
  padding: 4px 8px;
  font-size: 14px;
  border-bottom: 1px solid #000;
}

.win__body {
  padding: 10px 12px 8px;
  color: #000;
  font-size: 14px;
}

.win__footer {
  text-align: right;
  padding: 6px 10px 10px;
}
.win__footer button {
  background: #fff;
  border: 1px solid #000;
  padding: 2px 10px;
  margin-left: 6px;
  font-family: 'DotGothic16', sans-serif;
  font-size: 14px;
}

/* варианты */
.win--warning .win__title { background: #b8860b; }
.win--console .win__body   { background:#111; color:#0f0; font-size:12px; font-family: monospace; white-space: pre-wrap; max-height: 240px; overflow:auto; }
.win--toast {
  position: fixed;
  width: auto;
  max-width: 90vw;
  background: #200;
  color: #f88;
  border: 1px solid #500;
  padding: 6px 10px;
  font-size: 12px;
  animation: none;
  box-shadow: none;
}
.win--progress .bar-wrap {
  width: 100%;
  height: 12px;
  border: 1px solid #000;
  background: #cfcfcf;
  margin-top: 8px;
}
.win--progress .bar {
  height: 100%;
  width: 0%;
  background: #00007f;
}

.stack {
  font-family: monospace;
  font-size: 12px;
  color: #111;
  background:#f5f5f5;
  padding: 6px;
  margin-top: 6px;
  border:1px dashed #999;
  white-space: pre-wrap;
}

/* дрожь */
@keyframes shake {
  from { transform: translate(0, 0); }
  to   { transform: translate(1px, 1px); }
}

/* ============== CRT / ГЛИЧ ============== */
#glitch-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  background: repeating-linear-gradient(
    0deg,
    rgba(255,255,255,.02) 0px,
    rgba(255,255,255,.02) 1px,
    rgba(0,0,0,0) 2px
  );
  mix-blend-mode: overlay;
  animation: flicker 1.8s infinite;
}
@keyframes flicker {
  0%,19%,21%,23%,25%,54%,56%,100% { opacity:.06; }
  20%,24%,55% { opacity:.16; }
}

/* ============== BSOD ============== */
#bsod {
  position: fixed;
  inset: 0;
  background: #0018a8;
  color: #fff;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: left;
  padding: 24px;
  font-family: monospace;
}
#bsod .bsod-inner {
  max-width: 640px;
}
#bsod h1 {
  font-size: 64px;
  margin-bottom: 24px;
}

/* ============== ГЛЮЧНЫЙ КУРСОР ============== */
.gcursor {
  position: fixed;
  width: 8px; height: 8px;
  border: 1px solid #fff;
  background: #000;
  pointer-events: none;
  z-index: 10001;
  mix-blend-mode: difference;
  opacity: .6;
  transform: translate(-50%,-50%);
}

/* ============== MOBILE FIRST ============== */
@media (min-width: 768px) {
  .win {
    width: 300px;
    font-size: 15px;
  }
  .win--toast { font-size: 13px; }
}
